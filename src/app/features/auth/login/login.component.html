<div
    class="min-h-screen flex items-center justify-center bg-slate-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden">

    <!-- Elemen Dekoratif Background -->
    <div class="absolute inset-0 z-0 opacity-10 pointer-events-none">
        <div
            class="absolute top-0 right-0 w-96 h-96 bg-blue-400 rounded-full blur-[120px] -translate-y-1/2 translate-x-1/2">
        </div>
        <div
            class="absolute bottom-0 left-0 w-96 h-96 bg-blue-600 rounded-full blur-[120px] translate-y-1/2 -translate-x-1/2">
        </div>
    </div>

    <div
        class="max-w-md w-full space-y-8 bg-white p-10 rounded-[40px] shadow-2xl shadow-slate-200 relative z-10 border border-slate-100 animate-in fade-in zoom-in duration-500">

        <!-- Header Login -->
        <div class="text-center">
            <img src="assets/images/logo-nova.svg" alt="Loanova Logo" class="inline-block w-20 h-20 rounded-full shadow-xl shadow-blue-200 mb-6 hover:rotate-6 transition-transform duration-500">
            <h2 class="text-3xl font-extrabold text-slate-900 tracking-tight">Login Portal</h2>
            <p class="mt-2 text-sm font-medium text-slate-500 italic">Selamat datang kembali di sistem Loanova</p>
        </div>

        <!-- Form Login -->
        <form class="mt-8 space-y-6" (submit)="onSubmit(); $event.preventDefault()">

            <!-- Global Error Message -->
            @if (errorMessage()) {
            <div
                class="bg-red-50 border border-red-100 text-red-600 px-4 py-3 rounded-2xl text-sm font-bold flex items-center gap-3 animate-in fade-in slide-in-from-top-2">
                <span>‚ùå</span>
                <p>{{ errorMessage() }}</p>
            </div>
            }

            <div class="space-y-4">
                <!-- Input Username -->
                <div>
                    <label for="username" class="block text-sm font-bold text-slate-700 mb-2">Username</label>
                    <div class="relative group">
                        <span
                            class="absolute inset-y-0 left-0 pl-4 flex items-center text-slate-400 group-focus-within:text-blue-600 transition-colors">üë§</span>
                        <input id="username" name="username" type="text" required
                            class="appearance-none block w-full pl-12 pr-4 py-4 border border-slate-200 placeholder-slate-400 text-slate-900 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium sm:text-sm"
                            [class.border-red-400]="getFieldError('username')" placeholder="Masukkan username Anda"
                            [ngModel]="username()" (ngModelChange)="username.set($event)">
                    </div>
                    <!-- Validation Message -->
                    @if (getFieldError('username')) {
                    <p class="mt-1 text-xs text-red-500 font-bold ml-1"># {{ getFieldError('username') }}</p>
                    }
                </div>

                <!-- Input Password -->
                <div>
                    <label for="password" class="block text-sm font-bold text-slate-700 mb-2">Password</label>
                    <div class="relative group">
                        <span
                            class="absolute inset-y-0 left-0 pl-4 flex items-center text-slate-400 group-focus-within:text-blue-600 transition-colors">üîë</span>
                        <input id="password" name="password" [type]="showPassword() ? 'text' : 'password'" required
                            class="appearance-none block w-full pl-12 pr-12 py-4 border border-slate-200 placeholder-slate-400 text-slate-900 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium sm:text-sm"
                            [class.border-red-400]="getFieldError('password')" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                            [ngModel]="password()" (ngModelChange)="password.set($event)">
                        <button type="button" (click)="togglePassword()"
                            class="absolute inset-y-0 right-0 pr-4 flex items-center text-slate-400 hover:text-slate-600 transition-colors">
                            {{ showPassword() ? 'üôà' : 'üëÅÔ∏è' }}
                        </button>
                    </div>
                    <!-- Validation Message -->
                    @if (getFieldError('password')) {
                    <p class="mt-1 text-xs text-red-500 font-bold ml-1"># {{ getFieldError('password') }}</p>
                    }
                </div>
            </div>

            <!-- Helper Links -->
            <div class="flex items-center justify-end">
                <div class="text-sm">
                    <a href="#" class="font-bold text-blue-700 hover:text-blue-800 transition-colors">Lupa password?</a>
                </div>
            </div>

            <!-- Submit Button dengan loading state -->
            <div>
                <button type="submit" [disabled]="isLoading()"
                    class="group relative w-full flex justify-center py-4 px-4 border border-transparent text-sm font-black rounded-2xl text-white bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all shadow-xl shadow-blue-200 active:scale-95 disabled:opacity-70">
                    @if (isLoading()) {
                    <span class="flex items-center gap-2">
                        <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none"
                            viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4">
                            </circle>
                            <path class="opacity-75" fill="currentColor"
                                d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                            </path>
                        </svg>
                        Sedang Memproses...
                    </span>
                    } @else {
                    Login ke Sistem
                    }
                </button>
            </div>
        </form>

        <!-- Footer Login -->
        <div class="text-center mt-8">
            <p class="text-sm text-slate-500 font-medium">Bukan admin sistem?
                <a routerLink="/" class="font-bold text-blue-700 hover:text-blue-800 transition-colors">Kembali ke
                    Beranda</a>
            </p>
        </div>

    </div>
</div>
